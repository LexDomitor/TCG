<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MTG Tools</title>
<style>
body { margin:0; font-family:sans-serif; background:#111; color:white; display:flex; flex-direction:column; height:100vh; justify-content:center; align-items:center;}
.btn { padding:12px 24px; border:none; border-radius:6px; color:white; font-weight:bold; cursor:pointer; margin:10px; font-size:1.2rem; }
.blue { background:#3b82f6; } .green { background:#22c55e; } 
.hidden { display:none; }
</style>
</head>
<body>

<!-- INITIAL HOME -->
<div id="initialHome">
  <button class="btn blue" onclick="showMainMenu()">Home</button>
</div>

<!-- MAIN MENU (after Home is clicked) -->
<div id="mainMenu" class="hidden" style="display:flex; flex-direction:column; align-items:center;">
  <button class="btn blue" onclick="showPage('lifeCounter')">MTG Life Counter</button>
  <button class="btn green" onclick="showPage('archnemesis')">MTG Archnemesis</button>
</div>

<!-- LIFE COUNTER PAGE -->
<div id="lifeCounter" class="hidden" style="flex:1; display:flex; flex-direction:column;">
  <div class="toolbar">
    <button class="btn green" onclick="showPage('mainMenu')">Back</button>
  </div>
  <div class="life-wrapper" style="display:flex; flex:1; gap:5px; margin:10px;">
    <div class="player-container" style="flex:1; position:relative; border:5px solid black; display:flex; flex-direction:column; justify-content:flex-end; align-items:center;">
      <div class="life-bar" id="barA" style="position:absolute; bottom:0; width:100%; background:green; z-index:1; transition:height 0.3s;"></div>
      <div class="player-number" id="lifeA" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:4rem; z-index:2;">20</div>
      <div class="control-panel" style="display:flex; justify-content:center; align-items:center; gap:8px; margin-top:5px; z-index:3;">
        <button class="btn green" onclick="adjustLife('A','subtract')">-</button>
        <input type="number" id="adjustAmountA" value="1" min="1">
        <button class="btn blue" onclick="adjustLife('A','add')">+</button>
      </div>
    </div>
    <div class="player-container" style="flex:1; position:relative; border:5px solid black; display:flex; flex-direction:column; justify-content:flex-end; align-items:center;">
      <div class="life-bar" id="barB" style="position:absolute; bottom:0; width:100%; background:green; z-index:1; transition:height 0.3s;"></div>
      <div class="player-number" id="lifeB" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:4rem; z-index:2;">20</div>
      <div class="control-panel" style="display:flex; justify-content:center; align-items:center; gap:8px; margin-top:5px; z-index:3;">
        <button class="btn green" onclick="adjustLife('B','subtract')">-</button>
        <input type="number" id="adjustAmountB" value="1" min="1">
        <button class="btn blue" onclick="adjustLife('B','add')">+</button>
      </div>
    </div>
  </div>
</div>

<!-- ARCHNEMESIS PAGE -->
<div id="archnemesis" class="hidden" style="flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center;">
  <div class="center-text" style="font-size:2rem; margin-bottom:20px;">IN CONSTRUCTION</div>
  <button class="btn blue" onclick="showPage('mainMenu')">Back to Main Menu</button>
</div>

<script>
let lifeTotals = {A:20,B:20};
let maxLife = 20;

// Show main menu when initial Home is clicked
function showMainMenu(){
  document.getElementById('initialHome').classList.add('hidden');
  document.getElementById('mainMenu').classList.remove('hidden');
}

// Show any page and hide others
function showPage(page){
  ['mainMenu','lifeCounter','archnemesis'].forEach(p=>document.getElementById(p).classList.add('hidden'));
  document.getElementById(page).classList.remove('hidden');
}

// Adjust life
function adjustLife(player,action){
  const amt = parseInt(document.getElementById('adjustAmount'+player).value)||1;
  lifeTotals[player] += (action==='add'?amt:-amt);
  updateLifeDisplay(player);
}

// Update life bar display
function updateLifeDisplay(player){
  const bar = document.getElementById('bar'+player);
  const life = lifeTotals[player];
  const percentage = Math.max(0, life/maxLife);
  bar.style.height = (percentage*100)+'%';
  bar.style.background = percentage<=0.25?'red':percentage<=0.75?'goldenrod':'green';
  document.getElementById('life'+player).textContent = life;
}

// Initialize life bars
updateLifeDisplay('A');
updateLifeDisplay('B');
</script>
</body>
</html>
